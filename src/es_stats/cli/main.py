from __future__ import annotationsimport loggingimport sysfrom es_stats.config.settings import settingsfrom es_stats.db.connection import connect_defaultfrom es_stats.logging import configure_loggingfrom es_stats.repositories.sql_loader import load_sqllogger = logging.getLogger(__name__)def init_db() -> int:    sql = load_sql("schema/001_init.sql")    with connect_default() as conn:        conn.executescript(sql)    logger.info("Initialized database at %s", settings.db_path)    return 0def main(argv: list[str] | None = None) -> int:    configure_logging(settings.log_level)    argv = sys.argv[1:] if argv is None else argv    if not argv:        logger.info("es-stats CLI: available commands: init-db")        return 0    cmd = argv[0].strip().lower()    if cmd == "init-db":        return init_db()    logger.error("Unknown command: %s", cmd)    return 2if __name__ == "__main__":    raise SystemExit(main())